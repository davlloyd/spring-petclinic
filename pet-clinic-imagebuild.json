{"options":[{"enabled":true,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"Issue","assignToRequestor":"true","additionalFields":"{}"}}],"variables":{"system.debug":{"value":"false","allowOverride":true}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"properties":{},"tags":[],"_links":{"self":{"href":"http://wcp-azuredevops.syddsc.local/DefaultCollection/325677e0-121a-4793-b650-e31ab441070f/_apis/build/Definitions/2?revision=9"},"web":{"href":"http://wcp-azuredevops/DefaultCollection/325677e0-121a-4793-b650-e31ab441070f/_build/definition?definitionId=2"},"editor":{"href":"http://wcp-azuredevops/DefaultCollection/325677e0-121a-4793-b650-e31ab441070f/_build/designer?id=2&_a=edit-build-definition"},"badge":{"href":"http://wcp-azuredevops.syddsc.local/DefaultCollection/325677e0-121a-4793-b650-e31ab441070f/_apis/build/status/2"}},"buildNumberFormat":"$(date:yyyyMMdd)$(rev:.r)","jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Maven pom.xml","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"ac4ee482-65da-4485-a532-7b085873e532","versionSpec":"3.*","definitionType":"task"},"inputs":{"mavenPOMFile":"$(Parameters.mavenPOMFile)","goals":"package","options":"","publishJUnitResults":"true","testResultsFiles":"**/surefire-reports/TEST-*.xml","testRunTitle":"","codeCoverageTool":"None","classFilter":"","classFilesDirectories":"","srcDirectories":"","failIfCoverageEmpty":"false","javaHomeSelection":"JDKVersion","jdkVersion":"default","jdkUserInputPath":"","jdkArchitecture":"x64","mavenVersionSelection":"Default","mavenPath":"","mavenSetM2Home":"false","mavenOpts":"-Xmx1024m","mavenFeedAuthenticate":"false","sqAnalysisEnabled":"false","sqMavenPluginVersionChoice":"latest","checkstyleAnalysisEnabled":"false","pmdAnalysisEnabled":"false","findbugsAnalysisEnabled":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":true,"displayName":"Copy Files to: $(build.artifactstagingdirectory)","timeoutInMinutes":0,"condition":"succeededOrFailed()","task":{"id":"5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c","versionSpec":"2.*","definitionType":"task"},"inputs":{"SourceFolder":"$(system.defaultworkingdirectory)","Contents":"**/*.jar","TargetFolder":"$(build.artifactstagingdirectory)","CleanTargetFolder":"false","OverWrite":"false","flattenFolders":"false","preserveTimestamp":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":true,"displayName":"Publish Artifact: drop","timeoutInMinutes":0,"condition":"succeededOrFailed()","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(build.artifactstagingdirectory)","ArtifactName":"drop","ArtifactType":"Container","TargetPath":"","Parallel":"false","ParallelCount":"8"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Bash Script","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"6c731c3c-3c68-459a-a5c9-bde6e6595b5b","versionSpec":"3.*","definitionType":"task"},"inputs":{"targetType":"inline","filePath":"","arguments":"","script":"ip=$(curl -s http://ipinfo.io/json | jq '.ip')\necho \"##vso[task.setvariable variable=ado_host_ip;]$ip\"","workingDirectory":"","failOnStderr":"false","noProfile":"true","noRc":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Bash Script","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"6c731c3c-3c68-459a-a5c9-bde6e6595b5b","versionSpec":"3.*","definitionType":"task"},"inputs":{"targetType":"inline","filePath":"","arguments":"","script":"echo $(ado_host_ip)","workingDirectory":"","failOnStderr":"false","noProfile":"true","noRc":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"build","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"88e1642d-384f-4471-81af-70a3573ed705","repository":"$(Parameters.repository)","command":"build","Dockerfile":"**/Dockerfile","buildContext":"**","tags":"$(Build.BuildId)","arguments":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"push","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"88e1642d-384f-4471-81af-70a3573ed705","repository":"$(Parameters.repository)","command":"push","Dockerfile":"**/Dockerfile","buildContext":"**","tags":"$(Build.BuildId)","arguments":""}}],"name":"Agent job 1","refName":"Job_1","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":1}],"type":1},"repository":{"properties":{"cleanOptions":"0","labelSources":"0","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"true","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"false","fetchDepth":"0"},"id":"b83f0dae-69c5-4c54-a94b-21a90ee6c4a7","type":"TfsGit","name":"wcp-1","url":"http://wcp-azuredevops.syddsc.local/DefaultCollection/wcp-1/_git/wcp-1","defaultBranch":"refs/heads/master","clean":"false","checkoutSubmodules":false},"processParameters":{"inputs":[{"aliases":[],"options":{},"properties":{},"name":"mavenPOMFile","label":"Maven POM file","defaultValue":"pom.xml","required":true,"type":"filePath","helpMarkDown":""},{"aliases":[],"options":{},"properties":{"EditableOptions":"True"},"name":"repository","label":"Container repository","defaultValue":"davlloyd/springpet","type":"string","helpMarkDown":"Name of the repository.","visibleRule":"","groupName":""}]},"quality":1,"authoredBy":{"displayName":"David Lloyd","url":"http://wcp-azuredevops.syddsc.local/DefaultCollection/_apis/Identities/04338ad8-19d8-4138-90d8-f72579320c02","_links":{"avatar":{"href":"http://wcp-azuredevops.syddsc.local/DefaultCollection/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMjMzMzg1MTM1Ni01MDc0MTg1MTctMTQwOTI2MzQ3OC02MTAy"}},"id":"04338ad8-19d8-4138-90d8-f72579320c02","uniqueName":"SYDDSC\\david","imageUrl":"http://wcp-azuredevops.syddsc.local/DefaultCollection/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMjMzMzg1MTM1Ni01MDc0MTg1MTctMTQwOTI2MzQ3OC02MTAy","descriptor":"win.Uy0xLTUtMjEtMjMzMzg1MTM1Ni01MDc0MTg1MTctMTQwOTI2MzQ3OC02MTAy"},"drafts":[],"queue":{"_links":{"self":{"href":"http://wcp-azuredevops.syddsc.local/DefaultCollection/_apis/build/Queues/1"}},"id":1,"name":"Default","url":"http://wcp-azuredevops.syddsc.local/DefaultCollection/_apis/build/Queues/1","pool":{"id":1,"name":"Default"}},"id":2,"name":"wcp-1-Maven-CI","url":"http://wcp-azuredevops.syddsc.local/DefaultCollection/325677e0-121a-4793-b650-e31ab441070f/_apis/build/Definitions/2?revision=9","uri":"vstfs:///Build/Definition/2","path":"\\","type":2,"queueStatus":0,"revision":9,"createdDate":"2020-04-07T08:47:44.893Z","project":{"id":"325677e0-121a-4793-b650-e31ab441070f","name":"wcp-1","url":"http://wcp-azuredevops.syddsc.local/DefaultCollection/_apis/projects/325677e0-121a-4793-b650-e31ab441070f","state":1,"revision":9,"visibility":0,"lastUpdateTime":"2020-02-09T08:23:59.380Z"}}